
# BBR 拥塞控制配置工具
----

[English](Readme_en.md)

---

一个交互式的 BBR 拥塞控制算法配置脚本，支持中英文双语界面，帮助用户轻松启用和配置 Linux 系统的 BBR 网络优化功能。

##  特性

- **交互式操作** - 清晰的菜单界面，简单易用
- **中英文双语** - 自动检测系统语言，支持手动切换
- **BBR 自动配置** - 一键启用 BBR 拥塞控制算法
- **队列调度器优化** - 智能推荐最佳队列调度器配置
- **最佳实践指导** - 明确标注适合不同场景的配置方案
- **配置持久化** - 支持将配置永久保存到系统

## 系统要求

- Linux 内核 4.9+ (推荐 4.20+)
- root 权限
- bash shell或兼容bash语法的其他shell

## 🚀 快速开始

```bash
# 下载脚本
wget https://raw.githubusercontent.com/Martin-Winfred/bbr-tuner/main/bbr-tuner.sh

# 添加执行权限
chmod +x bbr-tuner.sh

# 运行脚本（需要 root 权限）
sudo ./bbr-tuner.sh
```

##  使用方法

### 推荐使用流程

1. 运行脚本后选择选项 4（快速启用 BBR）
2. 确认加载 BBR 模块
3. 确认设置算法为 `bbr` 和队列调度器为 `fq`
4. 选择选项 6 永久保存配置
5. 重启系统使配置完全生效

### 手动配置

- **选项 1**: 检查并加载 BBR 模块
- **选项 2**: 手动选择拥塞控制算法
- **选项 3**: 手动选择队列调度器
- **选项 4**: 快速启用 BBR（推荐）
- **选项 5**: 查看当前系统状态
- **选项 6**: 永久保存配置
- **选项 7**: 切换语言

## 🛠 配置建议

### BBR 最佳配置
```
拥塞控制算法: bbr
队列调度器: fq
```


## 支持的算法和调度器

### 拥塞控制算法
- `bbr` - Google 的瓶颈带宽和往返传播时间算法 ★推荐
- `cubic` - 默认的 CUBIC 算法
- `reno` - 传统的 Reno 算法
- `westwood` - Westwood+ 算法,适合无线环境

### 队列调度器
- `fq` - 公平队列 ★与 BBR 最佳匹配
- `fq_codel` - 带 CoDel 的公平队列
- `cake` - 通用应用保持增强
- `pfifo_fast` - Linux 默认调度器 ★最适合批量处理
- `bfifo` - 字节先进先出
- `pfifo` - 数据包先进先出

##  语言支持

- 🇨🇳 中文 (简体)
- 🇬🇧 English

脚本会自动检测系统语言，也可以在运行时手动切换。

##  验证配置

配置完成后，可以通过以下命令验证：

```bash
# 查看当前拥塞控制算法
sysctl net.ipv4.tcp_congestion_control

# 查看当前队列调度器
sysctl net.core.default_qdisc

# 查看 BBR 模块状态
lsmod | grep tcp_bbr
```

## ⚠️ 注意事项

1. **内核支持**: 确保你的 Linux 内核版本支持 BBR (4.9+)
2. **权限要求**: 脚本需要 root 权限才能修改系统配置
3. **重启生效**: 某些配置可能需要重启系统才能完全生效
4. **备份配置**: 永久保存配置时会自动创建备份文件

## 📝 许可证

GPLV3 - 详见 [LICENSE](LICENSE) 文件

## 🙏 致谢

- Google BBR 团队
- Linux 内核网络开发团队

